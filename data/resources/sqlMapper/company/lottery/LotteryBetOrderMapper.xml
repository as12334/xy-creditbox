<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="so.wwb.creditbox.data.company.lottery.LotteryBetOrderMapper">

    <resultMap id="TABLE:lottery_bet_order" type="so.wwb.creditbox.model.company.lottery.po.LotteryBetOrder">
        <id column="id" property="id"/>
        <result column="user_id" property="userId"/>
        <result column="hid" property="hid"/>
        <result column="username" property="username"/>
        <result column="code" property="code"/>
        <result column="expect" property="expect"/>
        <result column="handicap" property="handicap"/>
        <result column="bet_time" property="betTime"/>
        <result column="bet_name" property="betName"/>
        <result column="bet_code" property="betCode"/>
        <result column="play_code" property="playCode"/>
        <result column="bet_num" property="betNum"/>
        <result column="bet_sort" property="betSort"/>
        <result column="c_odd1" property="codd1"/>
        <result column="c_odd2" property="codd2"/>
        <result column="b_odd1" property="bodd1"/>
        <result column="b_odd2" property="bodd2"/>
        <result column="bet_amount" property="betAmount"/>
        <result column="c_payout" property="cpayout"/>
        <result column="b_payout" property="bpayout"/>
        <result column="payout_time" property="payoutTime"/>
        <result column="status" property="status"/>
        <result column="terminal" property="terminal"/>
        <result column="memo" property="memo"/>
        <result column="rebate8" property="rebate8"/>
        <result column="rebate7" property="rebate7"/>
        <result column="rebate6" property="rebate6"/>
        <result column="rebate5" property="rebate5"/>
        <result column="rebate4" property="rebate4"/>
        <result column="rebate3" property="rebate3"/>
        <result column="rebate2" property="rebate2"/>
        <result column="occupy7" property="occupy7"/>
        <result column="occupy6" property="occupy6"/>
        <result column="occupy5" property="occupy5"/>
        <result column="occupy4" property="occupy4"/>
        <result column="occupy3" property="occupy3"/>
        <result column="occupy2" property="occupy2"/>
        <result column="agent_id" property="agentId"/>
        <result column="distributor_id" property="distributorId"/>
        <result column="shareholder_id" property="shareholderId"/>
        <result column="branch_id" property="branchId"/>
        <result column="company_id" property="companyId"/>
        <result column="owner_user_type" property="ownerUserType"/>
        <result column="sort_type" property="sortType"/>
    </resultMap>

    <!--//region your codes 1-->
    <select id="sumSortType" resultMap="TABLE:lottery_bet_order">
        SELECT
            sort_type,
            sum(bet_amount) bet_amount
        FROM
            lottery_bet_order
        WHERE
            expect = #{expect}
        AND status = #{status}
        AND code = #{code}
        GROUP BY
          sort_type;
    </select>
    <!--//endregion your codes 1-->

</mapper>