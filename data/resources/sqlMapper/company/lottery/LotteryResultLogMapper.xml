<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="so.wwb.creditbox.data.merchant.lottery.LotteryResultLogMapper">

    <resultMap id="TABLE:lottery_result_log" type="so.wwb.creditbox.model.company.lottery.po.LotteryResultLog">
        <id column="id" property="id"/>
        <result column="code" property="code"/>
        <result column="expect" property="expect"/>
        <result column="result_num" property="resultNum"/>
        <result column="create_time" property="createTime"/>
    </resultMap>

    <!--//region your codes 1-->
    <insert id="insertResultLog" parameterType="so.wwb.creditbox.model.company.lottery.po.LotteryResultLog">
        INSERT INTO "lottery_result_log" ("code", "expect", "result_num", "create_time")
        select #{code}, #{expect}, #{resultNum}, #{createTime}
        WHERE NOT EXISTS (select id FROM lottery_result_log WHERE code=#{code} and expect=#{expect})
    </insert>
    <!--//endregion your codes 1-->

</mapper>